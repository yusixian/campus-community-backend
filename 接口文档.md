<!--
 * @Author: 41
 * @Date: 2022-02-15 17:53:43
 * @LastEditors: lihao
 * @LastEditTime: 2022-02-21 18:50:43
 * @Description: 
-->
# 数据库
### 用户表
|字段名|字段类型| 说明|
|--|--|--|
|id|int|主键,自增|
|user_name|varchar(255)|用户名,unique|
|password|char(64)|密码|
|is_admin|tinyint(1)|0:不是管理员 1:是管理员|

### 文章表 sc_Articles

| 字段名       | 字段类型     | 允许为空 | 说明                   |
| ------------ | ------------ | -------- | ---------------------- |
| id           | int          | N        | 文章id                 |
| user_id      | int          | N        | 发贴用户id 外键        |
| title        | varchar(255) | N        | 文章标题               |
| summary      | varchar(255) | Y        | 文章摘要：纯文本       |
| content      | text         | N        | 文章详情：可以为富文本 |
| partition_id | int          | N        | 分区号 外键            |
| likes        | int          | N        | 点赞数 初始为0         |
| collections  | int          | N        | 收藏数 初始为0         |
| visits       | int          | N        | 浏览数 初始为0         |
| status      | Boolean   | N    | false已发布 true被屏蔽 默认为false     |
| cover_url   | varchar(255)  | Y     | 文章封面url，初始为空    |

### 分区表

| 字段名         | 字段类型     | 说明             |
| -------------- | ------------ | ---------------- |
| id             | int          | 主键,自增        |
| partition_name | varchar(255) | 分区的名称       |
| partition_desc | varchar(255) | 分区的描述       |
| cre_user_id    | int          | 创建分区的用户id |

### 评论表
| 字段名         | 字段类型     | 说明             |
| -------------- | ------------ | ---------------- |
| id             | int          | 主键,自增        |
| comment_content | varchar(255) | 评论的内容       |
| user_id | int | 写评论的用户id       |
| article_id    | int          | 被评论的文章id |

# 接口设计

## 用户模块
### 注册接口
```bash
POST/users/register
```
- 请求参数
```
user_name,password
```
- 响应

**成功**
```JSON
{
  "code":0,
  "message":"用户注册成功",
  "result":{
    "id":2,
    "user_name":"user"
  }
}
```
**失败**
```JSON
{
  "code":"10001",
  "message":"用户名或密码不能为空",
  "result":""
}
{
  "code":"10002",
  "message":"用户已经存在",
  "result":""
}
{
  "code":"10003",
  "message":"用户注册失败",
  "result":""
}
```
***
### 登录接口
```bash
POST/users/login
```
- 请求参数
```
user_name,password
```
- 响应

**成功**
```JSON
{
    "code": 0,
    "message": "用户登录成功",
    "result": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwidXNlcl9uYW1lIjoi5bCP5piOMiIsImlzX2FkbWluIjpmYWxzZSwiaWF0IjoxNjQ1MDc5NjA4LCJleHAiOjE2NDUxNjYwMDh9.-F905vX9_n3s7fZGkJVXuZ9Y1LRwLvvAAEG1j4gXB8E"
    }
}
```

**失败**
```JSON
{
  "code": "10004",
  "message": "用户不存在",
  "result": ""
}
{
  "code": "10005",
  "message": "用户登录失败",
  "result": ""
}
{
  "code": "10006",
  "message": "密码不匹配",
  "result": ""
}
```
***
### 修改密码接口
- 请求参数
```
password
```
- 响应

**成功**
```JSON
{
  "code":0,
  "message":"修改密码成功",
  "result":""
}
```

**失败**

```JSON
{
  "code": "10101",
  "message": "token已过期",
  "result": ""
}
{
  "code": "10102",
  "message": "token无效",
  "result": ""
}
{
  "code": "10007",
  "message": "修改密码失败",
  "result": ""
}
```

---



# 发帖管理接口

## POST 恢复文章

POST /articles/restore

仅管理员可用！
分为恢复被屏蔽文章和恢复被删除文章，默认为恢复被屏蔽文章，传参数isDel=1则为恢复回收站文章

### 请求参数

| 名称       | 位置  | 类型   | 必选  | 说明                                              |
| ---------- | ----- | ------ | ----- | ------------------------------------------------- |
| article_id | query | string | true  | none                                              |
| isDel      | query | string | false | 不传或传0则为恢复被屏蔽文章，否则为恢复被删除文章 |

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "恢复该文章成功！"
}
```

> 禁止访问

```json
{
  "code": 10103,
  "message": "未授权,当前请求需要管理员权限"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

| 状态码 | 状态码含义                                                   | 说明       | 数据模型 |
| ------ | ------------------------------------------------------------ | ---------- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)      | 成功       | Inline   |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3) | 禁止访问   | Inline   |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4) | 记录不存在 | Inline   |
| 500    | [Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1) | 服务器错误 | Inline   |

## GET 根据文章id获取文章

GET /articles/getbyid

注意！！！被屏蔽的也可被获取到，被删除的无法获取到

> Body 请求参数

```json
{}
```

### 请求参数

| 名称       | 位置  | 类型   | 必选  | 说明                 |
| ---------- | ----- | ------ | ----- | -------------------- |
| article_id | query | string | true  | 根据此id获取文章信息 |
| body       | body  | object | false | none                 |

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章成功！",
  "result": {
    "id": 3,
    "user_id": 1,
    "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
    "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
    "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
    "partition_id": 1,
    "likes": 0,
    "collections": 0,
    "visits": 0,
    "status": true,
    "cover_url": "",
    "createdAt": "2022-02-22T18:01:50.000Z",
    "updatedAt": "2022-02-22T18:10:24.000Z",
    "deletedAt": null
  }
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称            | 类型    | 必选 | 约束 | 说明 |
| --------------- | ------- | ---- | ---- | ---- |
| » code          | integer | true | none | none |
| » message       | string  | true | none | none |
| » result        | object  | true | none | none |
| »» id           | integer | true | none | none |
| »» user_id      | integer | true | none | none |
| »» title        | string  | true | none | none |
| »» summary      | string  | true | none | none |
| »» content      | string  | true | none | none |
| »» partition_id | integer | true | none | none |
| »» likes        | integer | true | none | none |
| »» collections  | integer | true | none | none |
| »» visits       | integer | true | none | none |
| »» status       | boolean | true | none | none |
| »» cover_url    | string  | true | none | none |
| »» createdAt    | string  | true | none | none |
| »» updatedAt    | string  | true | none | none |
| »» deletedAt    | null    | true | none | none |

### 

## GET 分页获取文章

GET /articles/page

分页获取文章，支持通过自定义分页大小、每页数量
可根据分区号、状态、开始结束时间进行过滤

### 请求参数

| 名称         | 位置  | 类型   | 必选  | 说明                                                     |
| ------------ | ----- | ------ | ----- | -------------------------------------------------------- |
| current      | query | string | false | 当前页数 默认第1页                                       |
| size         | query | string | false | 每页数目 默认为10篇文章                                  |
| status       | query | string | false | 文章状态 不传则为能查到0&1 0已发布  1为未发布、2为回收站 |
| partition_id | query | string | false | 分区ID 不传则不筛选分区                                  |
| start_time   | query | string | false | 开始日期 查找大于这个时间段的文章                        |
| end_time     | query | string | false | 结束日期 查找小于这个时间段的文章                        |

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章成功！",
  "result": {
    "article_total": 141,
    "article_pages": 15,
    "article_list": [
      {
        "id": 1,
        "user_id": 1,
        "title": "现王下共五什设",
        "summary": "面派再一达对调我率提色及。",
        "content": "确么运低由育力为光些下群除已计能究。两至石江发步料间极命切物道青。年科圆都立从少王图增整众断百。专军前角他在想目定引长运须原确。那江会龙线干解全展广参志西因原看半江。标场家合中完选马上正情角里制。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "http://ktyfht.lv/dodg",
        "createdAt": "2022-02-22T17:58:53.000Z",
        "updatedAt": "2022-02-24T11:20:10.000Z",
        "deletedAt": null
      },
      {
        "id": 2,
        "user_id": 1,
        "title": "做料引",
        "summary": "性始水代教术现斯比交前矿。",
        "content": "向外路派装济历二二向由部体却具由思更。须石线增市由克义石离很会把以派问好者。八因济片影过图力节水合别。气任标则况所你十使则其受西间。京表从极音会将消战商件民验所。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-02-22T18:01:50.000Z",
        "updatedAt": "2022-02-24T11:20:30.000Z",
        "deletedAt": null
      },//...
      {
        "id": 10,
        "user_id": 1,
        "title": "领老象后满题",
        "summary": "克运第市强三们解计革所开斯总。",
        "content": "那产与斗格派根期音区格海看照目造京。际运公带型月每第改听满布委研回统。再政书状才低层需内或见被百白车听美。平它建的现断全速近龙道王只铁直。子三指改热青安劳定快感单前层派斯支。",
        "partition_id": 2,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "http://fqoskgkf.ag/jfu",
        "createdAt": "2022-02-24T06:50:23.000Z",
        "updatedAt": "2022-02-24T06:50:23.000Z",
        "deletedAt": null
      }
    ]
  }
}
```

### 返回结果

| 状态码 | 状态码含义                                              | 说明 | 数据模型 |
| ------ | ------------------------------------------------------- | ---- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1) | 成功 | Inline   |

### 返回数据结构

状态码 **200**

| 名称             | 类型                                | 必选  | 约束 | 说明                           |
| ---------------- | ----------------------------------- | ----- | ---- | ------------------------------ |
| » code           | integer                             | true  | none | none                           |
| » message        | string                              | true  | none | none                           |
| » result         | object                              | true  | none | none                           |
| »» article_total | integer                             | true  | none | 符合条件的文章总数             |
| »» article_pages | integer                             | true  | none | 符合条件的文章总页数           |
| »» article_list  | [[sc_articles](#schemasc_articles)] | true  | none | 当前页文章列表                 |
| »»» id           | integer                             | true  | none | none                           |
| »»» user_id      | integer                             | true  | none | none                           |
| »»» title        | string                              | true  | none | none                           |
| »»» summary      | string¦null                         | false | none | none                           |
| »»» content      | string                              | true  | none | 可以为富文本                   |
| »»» status       | integer                             | true  | none | 默认为0已发布，1被屏蔽 2已删除 |
| »»» partition_id | integer                             | true  | none | none                           |
| »»» cover_url    | string¦null                         | false | none | none                           |
| »»» likes        | integer                             | true  | none | none                           |
| »»» collections  | integer                             | true  | none | none                           |
| »»» visits       | integer                             | true  | none | none                           |
| »»» createdAt    | string                              | true  | none | none                           |
| »»» updatedAt    | string                              | true  | none | none                           |
| »»» deletedAt    | string or null                      | true  | none | none                           |

## DELETE 屏蔽文章

DELETE /articles/shield

仅管理员可用！

### 请求参数

| 名称       | 位置  | 类型   | 必选  | 说明         |
| ---------- | ----- | ------ | ----- | ------------ |
| article_id | query | string | false | 待屏蔽文章id |

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "屏蔽该文章成功！"
}
```

> 禁止访问

```json
{
  "code": 10103,
  "message": "未授权,当前请求需要管理员权限"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

| 状态码 | 状态码含义                                                   | 说明       | 数据模型 |
| ------ | ------------------------------------------------------------ | ---------- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)      | 成功       | Inline   |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3) | 禁止访问   | Inline   |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4) | 记录不存在 | Inline   |



## POST 发表文章

POST /articles/create

支持头图、分区选择，注意图片上传通过articles/upload接口上传（开发中）而分区id发送前需确保该分区已经存在了

> Body 请求参数

```json
{
  "content": "确么运低由育力为光些下群除已计能究。两至石江发步料间极命切物道青。年科圆都立从少王图增整众断百。专军前角他在想目定引长运须原确。那江会龙线干解全展广参志西因原看半江。标场家合中完选马上正情角里制。",
  "title": "现王下共五什设",
  "partition_id": 1,
  "cover_url": "http://ktyfht.lv/dodg",
  "summary": "面派再一达对调我率提色及。"
}
```

### 请求参数

| 名称           | 位置 | 类型        | 必选  | 说明                                    |
| -------------- | ---- | ----------- | ----- | --------------------------------------- |
| body           | body | object      | false | none                                    |
| » content      | body | string      | true  | 可以是富文本                            |
| » summary      | body | string¦null | false | 文章摘要                                |
| » title        | body | string      | true  | 文章标题                                |
| » partition_id | body | integer     | false | 不传则为默认分区，id为1                 |
| » cover_url    | body | string¦null | false | 文章头图的url，通过上传接口可以进行上传 |

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "发帖成功！",
  "result": {
    "article_id": 5,
    "user_id": 1,
    "partition_id": 1,
    "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」"
  }
}
```

> 请求有误

```json
{
  "code": 11003,
  "message": "文章标题或内容为空"
}
```

> 所属分区不存在

```json
{
  "code": 12007,
  "message": "分区不存在"
}
```

### 返回结果

| 状态码 | 状态码含义                                                   | 说明           | 数据模型 |
| ------ | ------------------------------------------------------------ | -------------- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)      | 成功           | Inline   |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1) | 请求有误       | Inline   |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4) | 所属分区不存在 | Inline   |

### 返回数据结构

状态码 **200**

| 名称            | 类型    | 必选 | 约束 | 说明                   |
| --------------- | ------- | ---- | ---- | ---------------------- |
| » code          | integer | true | none | none                   |
| » message       | string  | true | none | 提示文本               |
| » result        | object  | true | none | 返回数据               |
| »» article_id   | integer | true | none | 数据库中该文章所对应ID |
| »» user_id      | integer | true | none | 发帖用户名             |
| »» partition_id | integer | true | none | 该文章所处分区ID       |
| »» title        | string  | true | none | 该文章标题             |

状态码 **400**

| 名称      | 类型    | 必选 | 约束 | 说明     |
| --------- | ------- | ---- | ---- | -------- |
| » code    | integer | true | none | 错误码   |
| » message | string  | true | none | 提示信息 |

状态码 **404**

| 名称      | 类型    | 必选 | 约束 | 说明 |
| --------- | ------- | ---- | ---- | ---- |
| » code    | integer | true | none | none |
| » message | string  | true | none | none |

## PATCH 更新文章

PATCH /articles/update

> Body 请求参数

```json
{
  "article_id": 3,
  "content": "业派较定般感心意少快由话。水合理它价数及四精持白把切。性场很单导化然规证力空数即该历。资照龙无认状战件属经百力格设。取下团经现步带照速别己切。",
  "summary": "8ai4",
  "partition_id": 2,
  "cover_url": "http://dnjej.cq/upyfnrkcv",
  "title": "Snvw Njdn Qousdg Mpbz"
}
```

### 请求参数

| 名称           | 位置 | 类型        | 必选  | 说明                       |
| -------------- | ---- | ----------- | ----- | -------------------------- |
| body           | body | object      | false | none                       |
| » content      | body | string      | false | 更新后的内容，可以是富文本 |
| » summary      | body | string¦null | false | 更新后的文章摘要           |
| » title        | body | string      | false | 更新后的文章标题           |
| » article_id   | body | integer     | true  | 待更新文章ID               |
| » partition_id | body | integer     | false | 新分区ID                   |
| » cover_url    | body | string      | false | 新头图地址                 |

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "更新文章成功！"
}
```

> 请求有误

```json
{
  "code": 11000,
  "message": "文章id不可以为空"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

| 状态码 | 状态码含义                                                   | 说明       | 数据模型 |
| ------ | ------------------------------------------------------------ | ---------- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)      | 成功       | Inline   |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1) | 请求有误   | Inline   |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4) | 记录不存在 | Inline   |

## DELETE 删除文章

DELETE /articles/delete

根据文章id删除文章，注意，此处是软删除，后续可加入定期清理

### 请求参数

| 名称       | 位置  | 类型   | 必选 | 说明         |
| ---------- | ----- | ------ | ---- | ------------ |
| article_id | query | string | true | 待删除文章ID |

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "删除文章成功！"
}
```

> 请求有误

```json
{
  "code": 11000,
  "message": "文章id不可以为空"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

| 状态码 | 状态码含义                                                   | 说明       | 数据模型 |
| ------ | ------------------------------------------------------------ | ---------- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)      | 成功       | Inline   |
| 400    | [Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1) | 请求有误   | Inline   |
| 404    | [Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4) | 记录不存在 | Inline   |

## GET 获取所有文章

GET /articles/getlist

包括被屏蔽的文章，被删除的文章无法获取，需要管理员权限！

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章列表成功！",
  "result": [
    {
      "id": 1,
      "user_id": 1,
      "title": "现王下共五什设",
      "summary": "面派再一达对调我率提色及。",
      "content": "确么运低由育力为光些下群除已计能究。两至石江发步料间极命切物道青。年科圆都立从少王图增整众断百。专军前角他在想目定引长运须原确。那江会龙线干解全展广参志西因原看半江。标场家合中完选马上正情角里制。",
      "partition_id": 1,
      "likes": 0,
      "collections": 0,
      "visits": 0,
      "status": 0,
      "cover_url": "http://ktyfht.lv/dodg",
      "createdAt": "2022-02-22T17:58:53.000Z",
      "updatedAt": "2022-02-22T17:58:53.000Z",
      "deletedAt": null
    }
  ]
}
```

> 禁止访问

```json
{
  "code": 10103,
  "message": "未授权,当前请求需要管理员权限"
}
```

### 返回结果

| 状态码 | 状态码含义                                                   | 说明     | 数据模型 |
| ------ | ------------------------------------------------------------ | -------- | -------- |
| 200    | [OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)      | 成功     | Inline   |
| 403    | [Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3) | 禁止访问 | Inline   |

### 返回数据结构

状态码 **200**

| 名称            | 类型        | 必选 | 约束 | 说明          |
| --------------- | ----------- | ---- | ---- | ------------- |
| » code          | integer     | true | none | none          |
| » message       | string      | true | none | none          |
| » result        | [object]    | true | none | none          |
| »» id           | integer     | true | none | none          |
| »» user_id      | integer     | true | none | 外键          |
| »» title        | string      | true | none | none          |
| »» summary      | string¦null | true | none | none          |
| »» content      | string      | true | none | none          |
| »» partition_id | integer     | true | none | 外键          |
| »» likes        | integer     | true | none | none          |
| »» collections  | integer     | true | none | none          |
| »» visits       | integer     | true | none | none          |
| »» status       | integer     | true | none | 0正常 1被屏蔽 |
| »» cover_url    | string¦null | true | none | none          |
| »» createdAt    | string      | true | none | 文章发表时间  |
| »» updatedAt    | string      | true | none | none          |
| »» deletedAt    | null        | true | none | 只会为null    |

状态码 **403**

| 名称      | 类型    | 必选 | 约束 | 说明 |
| --------- | ------- | ---- | ---- | ---- |
| » code    | integer | true | none | none |
| » message | string  | true | none | none |



# 分区接口

## GET 查询所有分区

GET /partition/queryAllPartition

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询所有分区成功",
  "result": [
    {
      "id": 1,
      "partition_name": "分区测试",
      "partition_desc": "用于测试分区模块",
      "cre_user_id": 1,
      "createdAt": "2022-02-21T10:26:11.000Z",
      "updatedAt": "2022-02-21T10:26:11.000Z"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 创建分区接口

POST /partition/insertPartition

> Body 请求参数

```json
{
  "partition_name": "分区测试",
  "partition_desc": "用于测试分区模块"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» partition_name|body|string|true|分区名称|
|» partition_desc|body|string|true|分区描述|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "分区创建成功",
  "result": ""
}
```

```json
{
  "code": "12001",
  "message": "创建分区失败",
  "result": ""
}
```

```json
{
  "code": "12002",
  "message": "分区名称已存在",
  "result": ""
}
```

```json
{
  "code": "12003",
  "message": "分区名称不可以为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|


状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|string|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|

## DELETE 删除分区接口

DELETE /partition/deletePartition

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|false|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "分区删除成功",
  "result": ""
}
```

```json
{
  "code": "12004",
  "message": "分区删除失败",
  "result": ""
}
```

```json
{
  "code": "12005",
  "message": "分区id为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|


状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|string|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|

# 评论接口

## GET 根据文章id获取评论

GET /comment/queryCommentByArticleId

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|false|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询评论成功",
  "result": [
    {
      "id": 1,
      "comment_content": "哈哈哈",
      "user_id": 1,
      "article_id": 1,
      "createdAt": "2022-02-21T07:52:58.000Z",
      "updatedAt": "2022-02-21T07:52:58.000Z",
      "deletedAt": null
    },
    {
      "id": 2,
      "comment_content": "哈哈哈",
      "user_id": 1,
      "article_id": 1,
      "createdAt": "2022-02-21T08:35:31.000Z",
      "updatedAt": "2022-02-21T08:35:31.000Z",
      "deletedAt": null
    },
    {
      "id": 3,
      "comment_content": "哈哈哈2",
      "user_id": 1,
      "article_id": 1,
      "createdAt": "2022-02-21T08:36:50.000Z",
      "updatedAt": "2022-02-21T08:36:50.000Z",
      "deletedAt": null
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|


## DELETE 删除评论

DELETE /comment/deleteComment

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|false|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "删除评论成功",
  "result": ""
}
```

```json
{
  "code": "13003",
  "message": "评论id不可以为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|


## PATCH 恢复评论

PATCH /comment/restoreComment

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|false|none|

> 返回示例

> 成功

```json
{
  "code": "10103",
  "message": "未授权,当前请求需要管理员权限",
  "result": ""
}
```

```json
{
  "code": "13003",
  "message": "评论id不可以为空",
  "result": ""
}
```

```json
{
  "code": 0,
  "message": "恢复评论成功",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|



## POST 新增评论的接口

POST /comment/createComment

> Body 请求参数

```json
{
  "comment_content": "string",
  "article_id": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» comment_content|body|string|true|none|
|» article_id|body|integer|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "评论成功",
  "result": ""
}
```

```json
{
  "code": "13002",
  "message": "评论内容和评论文章不可以为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|



