# 校园社区后端

> v1.0.0

# 数据库

### 用户表

| 字段名    | 字段类型     | 说明                    |
| --------- | ------------ | ----------------------- |
| id        | int          | 主键,自增               |
| user_name | varchar(255) | 用户名,unique           |
| password  | char(64)     | 密码                    |
| is_admin  | tinyint(1)   | 0:不是管理员 1:是管理员 |
| img       | string       | 主键,自增               |
| is_active | tinyint(1)   | 是否激活                |
| name      | string       | 昵称                    |
| city      | string       | 城市                    |
| sex       | string       | 性别                    |

### 文章表 sc_Articles

| 字段名       | 字段类型     | 允许为空 | 说明                                                   |
| ------------ | ------------ | -------- | ------------------------------------------------------ |
| id           | int          | N        | 文章id                                                 |
| user_id      | int          | N        | 发贴用户id 外键                                        |
| title        | varchar(255) | N        | 文章标题                                               |
| summary      | varchar(255) | Y        | 文章摘要：纯文本                                       |
| content      | text         | N        | 文章详情：可以为富文本                                 |
| partition_id | int          | N        | 分区号 外键                                            |
| likes        | int          | N        | 点赞数 初始为0                                         |
| collections  | int          | N        | 收藏数 初始为0                                         |
| visits       | int          | N        | 浏览数 初始为0                                         |
| status       | int          | N        | 0已发布 1被屏蔽  2为已删除（回收站）3为待审核  默认为3 |
| cover_url    | varchar(255) | Y        | 文章封面url，初始为空                                  |

### 分区表

| 字段名         | 字段类型     | 说明             | 外键说明 |
| -------------- | ------------ | ---------------- | -------- |
| id             | int          | 主键,自增        |          |
| partition_name | varchar(255) | 分区的名称       |          |
| partition_desc | varchar(255) | 分区的描述       |          |
| cre_user_id    | int          | 创建分区的用户id | User->id |

### 评论表

| 字段名          | 字段类型     | 是否允许为空 | 说明           | 外键说明              |
| --------------- | ------------ | ------------ | -------------- | --------------------- |
| id              | int          | N            | 主键,自增      |                       |
| comment_content | varchar(255) | N            | 评论的内容     |                       |
| user_id         | int          | N            | 写评论的用户id | User->id              |
| article_id      | int          | N            | 被评论的文章id | Article -> article_id |

### 评论回复表

| 字段名           | 字段类型 | 是否允许为空 | 说明       | 外键说明          |
| ---------------- | -------- | ------------ | ---------- | ----------------- |
| id               | int      | N            | 主键自增   |                   |
| comment_id       | int      | N            | 评论id     | Comment->id       |
| comment_reply_id | int      | Y            | 回复目标id | comment_reply->id |
| from_user_id     | int      | N            | 回复用户id | User->id          |
| to_user_id       | int      | N            | 目标用户id | User->id          |

### 点赞表 sc_Likes

| 字段名     | 字段类型 | 允许为空 | 说明                                               | 外键说明              |
| ---------- | -------- | -------- | -------------------------------------------------- | --------------------- |
| id         | int      | N        | 主键，自增 点赞记录id                              |                       |
| user_id    | int      | N        | 发起点赞的用户id                                   | User -> user_id       |
| type       | char(20) | N        | 点赞对象，默认值为article：article文章 comment评论 |                       |
| article_id | int      | Y        | 点赞文章id, type为article时存在                    | Article -> article_id |
| comment_id | int      | Y        | 点赞评论id, type为comment时存在                    | Comment -> comment_id |

### 收藏表sc_Collections

| 字段名     | 字段类型 | 允许为空 | 说明                  | 外键说明              |
| ---------- | -------- | -------- | --------------------- | --------------------- |
| id         | int      | N        | 主键，自增 收藏记录id |                       |
| user_id    | int      | N        | 进行收藏的用户id      | User -> user_id       |
| article_id | int      | N        | 收藏文章的id          | Article -> article_id |



# 用户接口

## POST 上传头像接口

POST /users/upload

> Body 请求参数

```yaml
file: file://D:\随笔\touxiang.png

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» file|body|string(binary)|false|none|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

## GET 用户名模糊查询接口

GET /search/byname

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|like_name|query|string|false|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询成功",
  "result": {
    "users": [
      {
        "id": 1,
        "user_name": "admin",
        "is_admin": 1,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 1,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:10.000Z",
        "updatedAt": "2022-02-28T09:54:10.000Z"
      },
      {
        "id": 4,
        "user_name": "Donald",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 5,
        "user_name": "Charles",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 7,
        "user_name": "Matthew",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 12,
        "user_name": "{{user_name}}",
        "is_admin": 0,
        "img": "{{img}}",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T15:03:49.000Z",
        "updatedAt": "2022-02-23T15:03:49.000Z"
      },
      {
        "id": 16,
        "user_name": "yanwenyuan",
        "is_admin": 1,
        "img": "http://dummyimage.com/400x400",
        "is_active": 1,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-26T03:25:21.000Z",
        "updatedAt": "2022-02-26T03:25:21.000Z"
      },
      {
        "id": 17,
        "user_name": "abcd",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-26T03:41:33.000Z",
        "updatedAt": "2022-02-26T03:41:33.000Z"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## PATCH 修改城市

PATCH /users/city

> Body 请求参数

```json
{
  "city": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» city|body|string|true|none|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 登录接口

POST /users/login

> Body 请求参数

```json
{
  "user_name": "admin",
  "password": "123456"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» user_name|body|string|true|none|
|» password|body|string|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "用户登录成功",
  "result": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl9uYW1lIjoiYWRtaW4iLCJpc19hZG1pbiI6ZmFsc2UsImlhdCI6MTY0NTI1Mzc3MSwiZXhwIjoxNjQ1MzQwMTcxfQ.pzfNmsbnmAAWXoRMAWzD0JF8YpT7ARyhLyxkYXMuuPw"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|成功登录提示|
|» result|object|true|none|none|
|»» token|string|true|none|none|

## POST 注册接口

POST /users/register

用户注册的接口

> Body 请求参数

```json
{
  "user_name": "string",
  "password": "string",
  "is_admin": true,
  "img": "string",
  "is_active": true,
  "name": "string",
  "city": "string",
  "sex": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» user_name|body|string|true|用户名|
|» password|body|string|true|密码|
|» is_admin|body|boolean|true|是否是管理员|
|» img|body|string|true|头像|
|» is_active|body|boolean|true|是否激活|
|» name|body|string|true|昵称|
|» city|body|string|true|城市|
|» sex|body|string|true|性别|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

## PATCH 修改昵称

PATCH /users/name

> Body 请求参数

```json
{
  "name": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» name|body|string|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "修改昵称成功",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET token更新接口

GET /users/updatetoken

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "token更新成功",
  "result": {
    "oldtoken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl9uYW1lIjoiYWRtaW4iLCJpc19hZG1pbiI6dHJ1ZSwiaW1nIjoiaHR0cHM6Ly93d3cucGlja3Bpay5jb20vYmxlZC1zbG92ZW5pYS1sYWtlLW1vdW50YWlucy1tb3VudGFpbi10aGUtZm9nLTk3IiwiaXNfYWN0aXZlIjp0cnVlLCJuYW1lIjoiIiwiY2l0eSI6IiIsInNleCI6IuS_neWvhiIsInNlc3Npb25pZCI6MTY0NjE4ODk0MDEzMSwiaWF0IjoxNjQ2MTg4OTQwLCJleHAiOjE2NDYyNzUzNDB9.mEUzy0W9CNScZbN5v3t_ZAZIQahbdJfv6kkuqgpn-Wc",
    "newtoken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcl9uYW1lIjoiYWRtaW4iLCJpc19hZG1pbiI6dHJ1ZSwiaW1nIjoiaHR0cHM6Ly93d3cucGlja3Bpay5jb20vYmxlZC1zbG92ZW5pYS1sYWtlLW1vdW50YWlucy1tb3VudGFpbi10aGUtZm9nLTk3IiwiaXNfYWN0aXZlIjp0cnVlLCJuYW1lIjoiIiwiY2l0eSI6IiIsInNleCI6IuS_neWvhiIsInNlc3Npb25pZCI6MTY0NjE4ODk0NjEzMywiaWF0IjoxNjQ2MTg4OTQ2LCJleHAiOjE2NDYyNzUzNDZ9.-Y1Uj_Wc4CappdbXmpDy7GCEFW3eC5nfgQSFc0Cdjbg",
    "res": {
      "id": 1,
      "user_name": "admin",
      "is_admin": true,
      "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
      "is_active": true,
      "name": "",
      "city": "",
      "sex": "保密",
      "sessionid": 1646188946133
    }
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 分页查询所有用户信息

GET /users/info

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|page|query|string|false|查询第几页|
|size|query|string|false|每页多少个|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询成功",
  "result": {
    "users": [
      {
        "id": 1,
        "user_name": "admin",
        "is_admin": 1,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 1,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:10.000Z",
        "updatedAt": "2022-02-28T09:54:10.000Z"
      },
      {
        "id": 2,
        "user_name": "cos",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 3,
        "user_name": "Timothy",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 4,
        "user_name": "Donald",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 5,
        "user_name": "Charles",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 6,
        "user_name": "Jeffrey",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 7,
        "user_name": "Matthew",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:11.000Z",
        "updatedAt": "2022-02-23T14:56:11.000Z"
      },
      {
        "id": 8,
        "user_name": "Shirley",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:12.000Z",
        "updatedAt": "2022-02-23T14:56:12.000Z"
      },
      {
        "id": 9,
        "user_name": "Ruth",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:12.000Z",
        "updatedAt": "2022-02-23T14:56:12.000Z"
      },
      {
        "id": 10,
        "user_name": "EVO",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T14:56:12.000Z",
        "updatedAt": "2022-02-23T14:56:12.000Z"
      },
      {
        "id": 12,
        "user_name": "{{user_name}}",
        "is_admin": 0,
        "img": "{{img}}",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-23T15:03:49.000Z",
        "updatedAt": "2022-02-23T15:03:49.000Z"
      },
      {
        "id": 13,
        "user_name": "测试4",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-24T01:59:27.000Z",
        "updatedAt": "2022-02-24T01:59:27.000Z"
      },
      {
        "id": 14,
        "user_name": "石杰",
        "is_admin": 1,
        "img": "http://dummyimage.com/400x400",
        "is_active": 1,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-26T03:24:24.000Z",
        "updatedAt": "2022-02-26T03:24:24.000Z"
      },
      {
        "id": 15,
        "user_name": "石杰1",
        "is_admin": 1,
        "img": "http://dummyimage.com/400x400",
        "is_active": 1,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-26T03:24:44.000Z",
        "updatedAt": "2022-02-26T03:24:44.000Z"
      },
      {
        "id": 16,
        "user_name": "yanwenyuan",
        "is_admin": 1,
        "img": "http://dummyimage.com/400x400",
        "is_active": 1,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-26T03:25:21.000Z",
        "updatedAt": "2022-02-26T03:25:21.000Z"
      },
      {
        "id": 17,
        "user_name": "abcd",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-26T03:41:33.000Z",
        "updatedAt": "2022-02-26T03:41:33.000Z"
      },
      {
        "id": 18,
        "user_name": "测试3",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-26T04:40:39.000Z",
        "updatedAt": "2022-02-26T04:40:39.000Z"
      },
      {
        "id": 19,
        "user_name": "123456",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "123456",
        "city": "",
        "sex": "男",
        "createdAt": "2022-02-28T10:29:38.000Z",
        "updatedAt": "2022-02-28T10:29:38.000Z"
      },
      {
        "id": 20,
        "user_name": "1234567",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "1234567",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-28T10:30:34.000Z",
        "updatedAt": "2022-02-28T10:30:34.000Z"
      },
      {
        "id": 21,
        "user_name": "123456789",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "123456789",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-28T10:30:43.000Z",
        "updatedAt": "2022-02-28T10:30:43.000Z"
      },
      {
        "id": 22,
        "user_name": "132456",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "132456",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-02-28T10:31:49.000Z",
        "updatedAt": "2022-02-28T10:31:49.000Z"
      },
      {
        "id": 23,
        "user_name": "12345678910",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "12345678910",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-03-01T01:06:48.000Z",
        "updatedAt": "2022-03-01T01:06:48.000Z"
      },
      {
        "id": 24,
        "user_name": "Spicylemon",
        "is_admin": 0,
        "img": "",
        "is_active": 0,
        "name": "Spicylemon",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-03-02T01:23:36.000Z",
        "updatedAt": "2022-03-02T01:23:36.000Z"
      },
      {
        "id": 25,
        "user_name": "12345678",
        "is_admin": 0,
        "img": "",
        "is_active": 1,
        "name": "12345678",
        "city": "",
        "sex": "保密",
        "createdAt": "2022-03-02T01:26:27.000Z",
        "updatedAt": "2022-03-02T01:26:27.000Z"
      }
    ]
  }
}
```

```json
{
  "code": 0,
  "message": "查询成功",
  "result": {
    "user": [
      {
        "id": 1,
        "user_name": "admin",
        "password": "$2a$10$8ql5925I3KBpIfGWVjabveFxdtKU0718cIDl8CYbXJkPDqzIZOoiy",
        "is_admin": 1,
        "img": "/uploads/upload_aa148054be33152eeb4d555daa8dba68.png",
        "createdAt": "2022-02-23T03:56:57.000Z",
        "updatedAt": "2022-02-23T08:17:15.000Z"
      },
      {
        "id": 2,
        "user_name": "cos",
        "password": "$2a$10$UI8W1r2Pk/BqCJ7qQHKNB.L2Cn4M5ufBjX1C/bYoTR4DSWMmzmWN.",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:58.000Z",
        "updatedAt": "2022-02-23T03:56:58.000Z"
      },
      {
        "id": 3,
        "user_name": "Timothy",
        "password": "$2a$10$8387G1UOwUqidypmlGofkeH8t/n23ElOivXIKB69ZVFaAvjaU9XOK",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:58.000Z",
        "updatedAt": "2022-02-23T03:56:58.000Z"
      },
      {
        "id": 4,
        "user_name": "Donald",
        "password": "$2a$10$iROvvE9rYgN7Of477zP5yusHspNCuU/dEm69FHT71gLF0slD1UqZa",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:58.000Z",
        "updatedAt": "2022-02-23T03:56:58.000Z"
      },
      {
        "id": 5,
        "user_name": "Charles",
        "password": "$2a$10$sPCQRkAmkZuSdn4UOZoMkO.Ot5q2IPa6CvzQHJppPeqk1EliLzBtS",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:58.000Z",
        "updatedAt": "2022-02-23T03:56:58.000Z"
      },
      {
        "id": 6,
        "user_name": "Jeffrey",
        "password": "$2a$10$hcgHPW82FhClcgF9TtpQ2.wE0Ckt2Hk02ArM7JShFb7qZ.EspkrGW",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:58.000Z",
        "updatedAt": "2022-02-23T03:56:58.000Z"
      },
      {
        "id": 7,
        "user_name": "Matthew",
        "password": "$2a$10$w4MTzEJiEmVzXf4FKpdjAuFjakC9wtjTFdkD3UO/o6U/no9vEYYoK",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:58.000Z",
        "updatedAt": "2022-02-23T03:56:58.000Z"
      },
      {
        "id": 8,
        "user_name": "Shirley",
        "password": "$2a$10$ehayF/KBti9RcqYFSu4wou8ZsSAgGB5XtO2h343lSOQ5AHmeE7n0G",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:59.000Z",
        "updatedAt": "2022-02-23T03:56:59.000Z"
      },
      {
        "id": 9,
        "user_name": "Ruth",
        "password": "$2a$10$xLOJ29bdj6J2.MgFVegoXe8Ox0/68WCvbLp2B5nhlGWZGtDEWZT/C",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:59.000Z",
        "updatedAt": "2022-02-23T03:56:59.000Z"
      },
      {
        "id": 10,
        "user_name": "EVO",
        "password": "$2a$10$O7zfQs8iakyIcO9kG.4.t.q2ne5dmCZD1MN1ERrMJqVACyFcZ0B.K",
        "is_admin": 0,
        "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "createdAt": "2022-02-23T03:56:59.000Z",
        "updatedAt": "2022-02-23T03:56:59.000Z"
      },
      {
        "id": 11,
        "user_name": "测试4",
        "password": "$2a$10$69zfeG3dS2a5j8nL9L1Mb.jVuzKvaWgUCZSHK5k3P2zcdVm7GdceG",
        "is_admin": 0,
        "img": "",
        "createdAt": "2022-02-23T12:29:08.000Z",
        "updatedAt": "2022-02-23T12:29:08.000Z"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## PATCH 修改密码

PATCH /users/password

修改自己的密码

> Body 请求参数

```json
{
  "password": "123123"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» password|body|string|true|密码|
|» old|body|string|true|旧密码|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "修改密码成功",
  "result": {
    "password": "$2a$10$JlVY7M/YdozB9zMwmJk2bO27MCXlt9muvHXuefa3JbGsq8t0U.uV.",
    "old": "123456"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

## GET 通过id查询用户信息

GET /users/searchbyid

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|false|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询成功",
  "result": {
    "user": {
      "id": 1,
      "user_name": "admin",
      "is_admin": true,
      "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
      "is_active": true,
      "name": "",
      "city": "",
      "sex": "保密"
    }
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## PATCH 整合修改接口(昵称，城市，性别)

PATCH /users/change

> Body 请求参数

```json
{
  "sex": "string",
  "city": "string",
  "name": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» sex|body|string|true|性别|
|» city|body|string|true|城市|
|» name|body|string|true|姓名|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "修改信息成功",
  "user": {
    "id": 1,
    "user_name": "admin",
    "password": "$2a$10$JJgspDIagC.vQlltCmDx5uR2LseV7JBYhg.aodWAgGEDjEHiH6yRG",
    "is_admin": true,
    "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
    "is_active": true,
    "name": "切个海",
    "city": "延安市",
    "sex": "男"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## PATCH 修改性别

PATCH /users/sex

> Body 请求参数

```json
{
  "sex": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» sex|body|string|true|none|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# 用户接口/管理员接口

## POST 封号和解封的接口

POST /users/blockadeornot

> Body 请求参数

```json
{
  "user_name": "admin",
  "is_active": 1
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» user_name|body|string|true|none|
|» is_active|body|boolean|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "admin用户已解封",
  "result": {}
}
```

```json
{
  "code": 0,
  "message": "admin用户已封号",
  "result": {}
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 用户密码修改接口

POST /users/reset

> Body 请求参数

```json
{
  "user_name": "string",
  "password": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» user_name|body|string|true|none|
|» password|body|string|true|none|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 管理员管理接口

POST /users/admin

> Body 请求参数

```json
{
  "is_admin": true,
  "user_name": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» is_admin|body|boolean|true|none|
|» user_name|body|string|true|none|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# 关注分组

## GET 查询用户粉丝

GET /follows/allfollow

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|follow_id|query|string|false|查询用户的id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询成功",
  "res": [
    {
      "id": 1,
      "name": "这后马她类总行",
      "user_name": "admin",
      "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97"
    },
    {
      "id": 2,
      "name": "cos",
      "user_name": "cos",
      "img": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 是否关注

GET /follows/ornot

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|follow_id|query|string|false|none|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 取消关注

POST /follows/delfollow

> Body 请求参数

```json
{
  "follow_id": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» follow_id|body|integer|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "本来就没有关注"
}
```

```json
{
  "code": 0,
  "message": "取消关注成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## POST 添加关注

POST /follows/addfollow

> Body 请求参数

```json
{
  "follow_id": 0
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» follow_id|body|integer|true|关注的用户id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "添加关注成功！",
  "res": {
    "id": 7,
    "user_id": 2,
    "follow_id": 1,
    "follow_name": "admin",
    "follow_pic": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
    "updatedAt": "2022-03-04T01:56:17.453Z",
    "createdAt": "2022-03-04T01:56:17.453Z"
  }
}
```

```json
{
  "code": 10104,
  "message": "已经关注该用户"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 查询用户关注

GET /follows/findfollow

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|user_id|query|string|false|查询的用户id|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# 发帖管理接口

## PATCH 更新文章

PATCH /articles/update

> Body 请求参数

```json
{
  "article_id": 3,
  "content": "业派较定般感心意少快由话。水合理它价数及四精持白把切。性场很单导化然规证力空数即该历。资照龙无认状战件属经百力格设。取下团经现步带照速别己切。",
  "summary": "8ai4",
  "partition_id": 2,
  "cover_url": "http://dnjej.cq/upyfnrkcv",
  "title": "Snvw Njdn Qousdg Mpbz"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» content|body|string|false|更新后的内容，可以是富文本|
|» summary|body|string¦null|false|更新后的文章摘要|
|» title|body|string|false|更新后的文章标题|
|» article_id|body|integer|true|待更新文章ID|
|» partition_id|body|integer|false|新分区ID|
|» cover_url|body|string|false|新头图地址|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "更新文章成功！"
}
```

> 请求有误

```json
{
  "code": 11000,
  "message": "文章id不可以为空"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|请求有误|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|提示文本|

状态码 **400**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|错误码|
|» message|string|true|none|提示信息|

## POST 发表文章

POST /articles/create

支持头图、分区选择，注意图片上传通过articles/upload接口上传（开发中）而分区id发送前需确保该分区已经存在了

> Body 请求参数

```json
{
  "content": "确么运低由育力为光些下群除已计能究。两至石江发步料间极命切物道青。年科圆都立从少王图增整众断百。专军前角他在想目定引长运须原确。那江会龙线干解全展广参志西因原看半江。标场家合中完选马上正情角里制。",
  "title": "现王下共五什设",
  "partition_id": 1,
  "cover_url": "http://ktyfht.lv/dodg",
  "summary": "面派再一达对调我率提色及。"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» content|body|string|true|可以是富文本|
|» summary|body|string¦null|false|文章摘要|
|» title|body|string|true|文章标题|
|» partition_id|body|integer|false|不传则为默认分区，id为1|
|» cover_url|body|string¦null|false|文章头图的url，通过上传接口可以进行上传|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "发帖成功！",
  "result": {
    "article_id": 5,
    "user_id": 1,
    "partition_id": 1,
    "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」"
  }
}
```

> 请求有误

```json
{
  "code": 11003,
  "message": "文章标题或内容为空"
}
```

> 所属分区不存在

```json
{
  "code": 12007,
  "message": "分区不存在"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|请求有误|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|所属分区不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|提示文本|
|» result|object|true|none|返回数据|
|»» article_id|integer|true|none|数据库中该文章所对应ID|
|»» user_id|integer|true|none|发帖用户名|
|»» partition_id|integer|true|none|该文章所处分区ID|
|»» title|string|true|none|该文章标题|

状态码 **400**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|错误码|
|» message|string|true|none|提示信息|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## GET 根据文章id获取文章

GET /articles/getbyid

获取后增加文章浏览量 +1
判断是否有token，有的话则判断是否点过赞

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|article_id|query|string|true|根据此id获取文章信息|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章成功！",
  "result": {
    "id": 7,
    "user_id": 2,
    "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
    "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
    "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
    "partition_id": 1,
    "likes": 10,
    "collections": 0,
    "visits": 8,
    "status": 0,
    "cover_url": "",
    "createdAt": "2022-03-02T04:37:12.000Z",
    "updatedAt": "2022-03-04T09:08:18.000Z",
    "deletedAt": null,
    "user_name": "cos",
    "name": "cosine",
    "comments": 0,
    "avator": "http://r842fhtdz.hd-bkt.clouddn.com/2.jpg",
    "partition_name": "校园新闻",
    "isLiked": true
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» id|integer|true|none|none|
|»» user_id|integer|true|none|none|
|»» title|string|true|none|none|
|»» summary|string|true|none|none|
|»» content|string|true|none|none|
|»» partition_id|integer|true|none|none|
|»» likes|integer|true|none|none|
|»» collections|integer|true|none|none|
|»» visits|integer|true|none|none|
|»» status|integer|true|none|none|
|»» cover_url|string|true|none|none|
|»» createdAt|string|true|none|none|
|»» updatedAt|string|true|none|none|
|»» deletedAt|null|true|none|none|
|»» user_name|string|true|none|none|
|»» name|string|true|none|none|
|»» comments|integer|true|none|none|
|»» avator|string|true|none|none|
|»» partition_name|string|true|none|none|
|»» isLiked|boolean|true|none|文章是否被点赞过|

## GET 获取文章总数

GET /articles/count

可根据分区号、状态、开始结束时间进行过滤，获取文章总数
不传status则获取0、1即已发布与被屏蔽文章数，不获取回收站文章

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|status|query|string|false|文章状态 不传则为能查到0&1 0已发布  1为未发布、2为回收站|
|partition_id|query|string|false|分区ID 不传则不筛选分区|
|start_time|query|string|false|开始日期 查找大于这个时间段的文章|
|end_time|query|string|false|结束日期 查找小于这个时间段的文章|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章总数",
  "result": {
    "filterOpt": {
      "partition_id": 1,
      "start_time": "2022-02-23 17:58:53",
      "end_time": "2022-02-24 18:01:51",
      "status": 0
    },
    "count": 30
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» filterOpt|object|true|none|none|
|»»» partition_id|integer|false|none|none|
|»»» start_time|string|false|none|none|
|»»» end_time|string|false|none|none|
|»»» status|integer|false|none|none|
|»» count|integer|true|none|根据过滤参数计算而得的文章总数|

## GET 分页获取文章（前台）

GET /articles/public/page

分页获取文章，支持通过自定义分页大小、每页数量
可根据分区号、开始结束时间等进行过滤
只获取已发布文章

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|current|query|string|false|当前页数 默认第1页|
|size|query|string|false|每页数目 默认为10篇文章|
|partition_id|query|string|false|分区ID 不传则不筛选分区|
|start_time|query|string|false|开始日期 查找大于这个时间段的文章|
|end_time|query|string|false|结束日期 查找小于这个时间段的文章|
|user_id|query|string|false|获取某用户发表文章|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章成功！",
  "result": {
    "article_total": 25,
    "article_pages": 3,
    "article_list": [
      {
        "id": 1,
        "user_id": 1,
        "title": "campus SNS 校园社区",
        "summary": "使用koa搭建的校园社区后端 巧妇难为无米之炊！一个厉害的项目的后端！ 前端地址：https://gitee.com/honxinn/campus-sns-campus-community",
        "content": "##  1.技术介绍\n**前端**：vue3 + pinia + vue-router + axios + vant + mock\n\n**其他**：接入QQ，微博第三方登录\n\n 感谢大家支持，项目配置部署运行另开文章介绍。\n",
        "partition_id": 1,
        "likes": 0,
        "collections": 10,
        "visits": 50,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:12.000Z",
        "updatedAt": "2022-03-04T06:52:33.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 4,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 2,
        "user_id": 1,
        "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
        "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
        "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
        "partition_id": 1,
        "likes": 0,
        "collections": 10,
        "visits": 9,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:12.000Z",
        "updatedAt": "2022-03-04T02:54:17.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 2,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 3,
        "user_id": 1,
        "title": "去北参型",
        "summary": "族我资社较子近本它共术保器才说习较无。",
        "content": "级积世也支以完青记外应别具。型组名不展科才值越建我圆民。她它传利真石间油革专到天难小江。别那市元号色基运义些平群。",
        "partition_id": 1,
        "likes": 1,
        "collections": 10,
        "visits": 32,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:12.000Z",
        "updatedAt": "2022-03-04T04:47:07.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 7,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 51,
        "user_id": 1,
        "title": "campus SNS 校园社区",
        "summary": "使用koa搭建的校园社区后端 巧妇难为无米之炊！一个厉害的项目的后端！ 前端地址：https://gitee.com/honxinn/campus-sns-campus-community",
        "content": "##  1.技术介绍\n**前端**：vue3 + pinia + vue-router + axios + vant + mock\n\n**其他**：接入QQ，微博第三方登录\n\n 感谢大家支持，项目配置部署运行另开文章介绍。\n",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:29.000Z",
        "updatedAt": "2022-03-02T12:37:29.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 52,
        "user_id": 1,
        "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
        "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
        "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:30.000Z",
        "updatedAt": "2022-03-02T12:37:30.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 53,
        "user_id": 1,
        "title": "如出争基",
        "summary": "金越开干形种写府们连门需反报。",
        "content": "角高确始界部手是论受片写。值分极道西音通两少八花大走感点风。生根加传识合王报程色二将件有决分当。听马型整酸相统导风本后王者非取但。展除济热办些东劳合图统当备。流人现集和领青林验海交强来格。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:30.000Z",
        "updatedAt": "2022-03-02T12:37:30.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 54,
        "user_id": 1,
        "title": "接年线思题",
        "summary": null,
        "content": "位到日十通容比特连信些叫门将出毛克。代整离开始听个置务上两意五可行与。整并名前区称她么些派色它被。高例义质他见声门参音存群史织里养。温难识与历局车并价手极情眼机。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:30.000Z",
        "updatedAt": "2022-03-02T12:37:30.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 151,
        "user_id": 1,
        "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
        "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
        "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-03T08:09:25.000Z",
        "updatedAt": "2022-03-03T08:09:25.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 152,
        "user_id": 1,
        "title": "院争她去根",
        "summary": "美子常引办定清多际较只素主形意知。",
        "content": "面西九务人亲由今先定参与学。处活社族先交解斗儿科头又号体。门先元听认铁整选极值还花被。形技火把公进类或属面会加条公。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-03T08:09:25.000Z",
        "updatedAt": "2022-03-03T08:09:25.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 153,
        "user_id": 1,
        "title": "常热列",
        "summary": null,
        "content": "群再动率感最地极她合人委与关果更划口。革里较流更严办制须文白从接米基值。器气老书王义好结除铁采六最步易历。理口设科音片二济影家农类主月然张。阶头联米里平白口青果拉大容马。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-03T08:09:26.000Z",
        "updatedAt": "2022-03-03T08:09:26.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» article_total|integer|true|none|none|
|»» article_pages|integer|true|none|none|
|»» article_list|[object]|true|none|none|
|»»» id|integer|true|none|none|
|»»» user_id|integer|true|none|none|
|»»» title|string|true|none|none|
|»»» summary|string¦null|true|none|none|
|»»» content|string|true|none|none|
|»»» partition_id|integer|true|none|none|
|»»» likes|integer|true|none|none|
|»»» collections|integer|true|none|none|
|»»» visits|integer|true|none|none|
|»»» status|integer|true|none|none|
|»»» cover_url|string|true|none|none|
|»»» createdAt|string|true|none|none|
|»»» updatedAt|string|true|none|none|
|»»» deletedAt|null|true|none|none|
|»»» user_name|string|true|none|none|
|»»» name|string|true|none|none|
|»»» comments|integer|true|none|none|
|»»» avator|string|true|none|none|
|»»» partition_name|string|true|none|none|

## DELETE 删除文章

DELETE /articles/delete

根据文章id删除文章，注意，此处是软删除，后续可加入定期清理

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|article_id|query|string|true|待删除文章ID|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "删除文章成功！"
}
```

> 请求有误

```json
{
  "code": 11000,
  "message": "文章id不可以为空"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|请求有误|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|提示文本|

状态码 **400**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|错误码|
|» message|string|true|none|提示语句|

## POST 文章图片上传

POST /articles/uploads

文章内图片上传

> Body 请求参数

```yaml
file:
  - file://C:\Users\34504\OneDrive - nahcox\图片\壁纸\89219826_p0_waifu2x_4x_jpg.png
  - file://C:\Users\34504\OneDrive - nahcox\图片\壁纸\95446530_p0.png

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» file|body|string(binary)|false|图片列表|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "文章图片上传成功",
  "result": {
    "imgPaths": [
      "/uploads/upload_5f601490b4e8c2a61d0ab7e7a15215c5.png",
      "/uploads/upload_4042adb1850fc75940116745c099ac5f.png",
      "/uploads/upload_61e41d38a810f63d4741f8389dcd0e31.png"
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» imgPaths|[string]|true|none|上传后图片url数组|

# 发帖管理接口/管理员接口

## POST 审核文章

POST /articles/review

管理员审核文章并将是否通过发送到服务端
pass为true为通过置为已发布，不通过置为已屏蔽

> Body 请求参数

```json
{}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» article_id|body|integer|true|审核文章id|
|» pass|body|boolean|true|审核通过与否，true为通过置为已发布，不通过置为已屏蔽|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "审核文章通过！已成功发布"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 获取所有文章

GET /articles/getlist

包括被屏蔽的文章，被删除的文章无法获取，需要管理员权限！

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章列表成功！",
  "result": [
    {
      "id": 1,
      "user_id": 1,
      "title": "现王下共五什设",
      "summary": "面派再一达对调我率提色及。",
      "content": "确么运低由育力为光些下群除已计能究。两至石江发步料间极命切物道青。年科圆都立从少王图增整众断百。专军前角他在想目定引长运须原确。那江会龙线干解全展广参志西因原看半江。标场家合中完选马上正情角里制。",
      "partition_id": 1,
      "likes": 0,
      "collections": 0,
      "visits": 0,
      "status": 0,
      "cover_url": "http://ktyfht.lv/dodg",
      "createdAt": "2022-02-22T17:58:53.000Z",
      "updatedAt": "2022-02-22T17:58:53.000Z",
      "deletedAt": null
    }
  ]
}
```

> 禁止访问

```json
{
  "code": 10103,
  "message": "未授权,当前请求需要管理员权限"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|禁止访问|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|[object]|true|none|none|
|»» id|integer|true|none|none|
|»» user_id|integer|true|none|外键|
|»» title|string|true|none|none|
|»» summary|string¦null|true|none|none|
|»» content|string|true|none|none|
|»» partition_id|integer|true|none|外键|
|»» likes|integer|true|none|none|
|»» collections|integer|true|none|none|
|»» visits|integer|true|none|none|
|»» status|integer|true|none|0正常 1被屏蔽|
|»» cover_url|string¦null|true|none|none|
|»» createdAt|string|true|none|文章发表时间|
|»» updatedAt|string|true|none|none|
|»» deletedAt|null|true|none|只会为null|

状态码 **403**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## POST 恢复文章

POST /articles/restore

仅管理员可用！
分为恢复被屏蔽文章和恢复被删除文章，默认为恢复被屏蔽文章，传参数isDel=1则为恢复回收站文章

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|article_id|query|string|true|none|
|isDel|query|string|false|不传或传0则为恢复被屏蔽文章，否则为恢复被删除文章|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "恢复该文章成功！"
}
```

> 禁止访问

```json
{
  "code": 10103,
  "message": "未授权,当前请求需要管理员权限"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|禁止访问|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|服务器错误|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **403**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **500**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## GET 分页获取文章（后台）

GET /articles/page

分页获取文章，支持通过自定义分页大小、每页数量
可根据分区号、状态、开始结束时间进行过滤

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|current|query|string|false|当前页数 默认第1页|
|size|query|string|false|每页数目 默认为10篇文章|
|status|query|string|false|文章状态 不传则为能查到0&1&3 0已发布  1为被屏蔽、2为回收站，3为待审核|
|partition_id|query|string|false|分区ID 不传则不筛选分区|
|start_time|query|string|false|开始日期 查找大于这个时间段的文章|
|end_time|query|string|false|结束日期 查找小于这个时间段的文章|
|user_id|query|string|false|获取某用户发表文章|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取文章成功！",
  "result": {
    "article_total": 25,
    "article_pages": 3,
    "article_list": [
      {
        "id": 1,
        "user_id": 1,
        "title": "campus SNS 校园社区",
        "summary": "使用koa搭建的校园社区后端 巧妇难为无米之炊！一个厉害的项目的后端！ 前端地址：https://gitee.com/honxinn/campus-sns-campus-community",
        "content": "##  1.技术介绍\n**前端**：vue3 + pinia + vue-router + axios + vant + mock\n\n**其他**：接入QQ，微博第三方登录\n\n 感谢大家支持，项目配置部署运行另开文章介绍。\n",
        "partition_id": 1,
        "likes": 0,
        "collections": 10,
        "visits": 50,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:12.000Z",
        "updatedAt": "2022-03-04T06:52:33.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 4,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 2,
        "user_id": 1,
        "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
        "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
        "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
        "partition_id": 1,
        "likes": 0,
        "collections": 10,
        "visits": 9,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:12.000Z",
        "updatedAt": "2022-03-04T02:54:17.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 2,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 3,
        "user_id": 1,
        "title": "去北参型",
        "summary": "族我资社较子近本它共术保器才说习较无。",
        "content": "级积世也支以完青记外应别具。型组名不展科才值越建我圆民。她它传利真石间油革专到天难小江。别那市元号色基运义些平群。",
        "partition_id": 1,
        "likes": 1,
        "collections": 10,
        "visits": 32,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:12.000Z",
        "updatedAt": "2022-03-04T04:47:07.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 7,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 51,
        "user_id": 1,
        "title": "campus SNS 校园社区",
        "summary": "使用koa搭建的校园社区后端 巧妇难为无米之炊！一个厉害的项目的后端！ 前端地址：https://gitee.com/honxinn/campus-sns-campus-community",
        "content": "##  1.技术介绍\n**前端**：vue3 + pinia + vue-router + axios + vant + mock\n\n**其他**：接入QQ，微博第三方登录\n\n 感谢大家支持，项目配置部署运行另开文章介绍。\n",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:29.000Z",
        "updatedAt": "2022-03-02T12:37:29.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 52,
        "user_id": 1,
        "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
        "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
        "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:30.000Z",
        "updatedAt": "2022-03-02T12:37:30.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 53,
        "user_id": 1,
        "title": "如出争基",
        "summary": "金越开干形种写府们连门需反报。",
        "content": "角高确始界部手是论受片写。值分极道西音通两少八花大走感点风。生根加传识合王报程色二将件有决分当。听马型整酸相统导风本后王者非取但。展除济热办些东劳合图统当备。流人现集和领青林验海交强来格。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:30.000Z",
        "updatedAt": "2022-03-02T12:37:30.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 54,
        "user_id": 1,
        "title": "接年线思题",
        "summary": null,
        "content": "位到日十通容比特连信些叫门将出毛克。代整离开始听个置务上两意五可行与。整并名前区称她么些派色它被。高例义质他见声门参音存群史织里养。温难识与历局车并价手极情眼机。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-02T12:37:30.000Z",
        "updatedAt": "2022-03-02T12:37:30.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 151,
        "user_id": 1,
        "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
        "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
        "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-03T08:09:25.000Z",
        "updatedAt": "2022-03-03T08:09:25.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 152,
        "user_id": 1,
        "title": "院争她去根",
        "summary": "美子常引办定清多际较只素主形意知。",
        "content": "面西九务人亲由今先定参与学。处活社族先交解斗儿科头又号体。门先元听认铁整选极值还花被。形技火把公进类或属面会加条公。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-03T08:09:25.000Z",
        "updatedAt": "2022-03-03T08:09:25.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      },
      {
        "id": 153,
        "user_id": 1,
        "title": "常热列",
        "summary": null,
        "content": "群再动率感最地极她合人委与关果更划口。革里较流更严办制须文白从接米基值。器气老书王义好结除铁采六最步易历。理口设科音片二济影家农类主月然张。阶头联米里平白口青果拉大容马。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "status": 0,
        "cover_url": "",
        "createdAt": "2022-03-03T08:09:26.000Z",
        "updatedAt": "2022-03-03T08:09:26.000Z",
        "deletedAt": null,
        "user_name": "admin",
        "name": "能受式马",
        "comments": 0,
        "avator": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "partition_name": "校园新闻"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» article_total|integer|true|none|none|
|»» article_pages|integer|true|none|none|
|»» article_list|[object]|true|none|none|
|»»» id|integer|true|none|none|
|»»» user_id|integer|true|none|none|
|»»» title|string|true|none|none|
|»»» summary|string¦null|true|none|none|
|»»» content|string|true|none|none|
|»»» partition_id|integer|true|none|none|
|»»» likes|integer|true|none|none|
|»»» collections|integer|true|none|none|
|»»» visits|integer|true|none|none|
|»»» status|integer|true|none|none|
|»»» cover_url|string|true|none|none|
|»»» createdAt|string|true|none|none|
|»»» updatedAt|string|true|none|none|
|»»» deletedAt|null|true|none|none|
|»»» user_name|string|true|none|none|
|»»» name|string|true|none|none|
|»»» comments|integer|true|none|none|
|»»» avator|string|true|none|none|
|»»» partition_name|string|true|none|none|

## DELETE 屏蔽文章

DELETE /articles/shield

仅管理员可用！

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|article_id|query|string|false|待屏蔽文章id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "屏蔽该文章成功！"
}
```

> 禁止访问

```json
{
  "code": 10103,
  "message": "未授权,当前请求需要管理员权限"
}
```

> 记录不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|禁止访问|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **403**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|string|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

# 分区接口

## GET 查询所有分区

GET /partition/queryAllPartition

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询所有分区成功",
  "result": [
    {
      "id": 1,
      "partition_name": "分区测试",
      "partition_desc": "用于测试分区模块",
      "cre_user_id": 1,
      "createdAt": "2022-02-21T10:26:11.000Z",
      "updatedAt": "2022-02-21T10:26:11.000Z"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

# 分区接口/管理员接口

## PATCH 更新分区的接口

PATCH /partition/updatePartitionById

> Body 请求参数

```json
{
  "id": 0,
  "partition_name": "string",
  "partition_desc": "string",
  "icon": "string"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» id|body|integer|true|none|
|» partition_name|body|string|true|none|
|» partition_desc|body|string|true|none|
|» icon|body|string|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "修改分区成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## POST 上传分区图片

POST /partition/uploadIcon

> Body 请求参数

```yaml
file: file://F:\computerDesign\images\icon\3e3c2586900c4d8f892c4eef9e93bb89.jpeg

```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» file|body|string(binary)|false|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "分区图片上传成功！",
  "result": {
    "imgPath": "http://r842fhtdz.hd-bkt.clouddn.com/3e3c2586900c4d8f892c4eef9e93bb89.jpeg"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|提示消息|
|» result|object|true|none|返回的数据对象|
|»» imgPath|string|true|none|文件的url|

## POST 创建分区接口

POST /partition/insertPartition

> Body 请求参数

```json
{
  "partition_name": "分区测试",
  "partition_desc": "用于测试分区模块",
  "icon": ""
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» partition_name|body|string|true|分区名称|
|» partition_desc|body|string|true|分区描述|
|» icon|body|string|false|分区的 图标地址|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "分区创建成功",
  "result": ""
}
```

```json
{
  "code": "12001",
  "message": "创建分区失败",
  "result": ""
}
```

```json
{
  "code": "12002",
  "message": "分区名称已存在",
  "result": ""
}
```

```json
{
  "code": "12003",
  "message": "分区名称不可以为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

## DELETE 删除分区接口

DELETE /partition/deletePartition

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|true|被删除的分区的id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "分区删除成功",
  "result": ""
}
```

```json
{
  "code": "12004",
  "message": "分区删除失败",
  "result": ""
}
```

```json
{
  "code": "12005",
  "message": "分区id为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

# 评论接口

## GET 根据文章id获取评论（无需登录的接口）

GET /comment/queryCommentByArticleIdNoAuth

本接口适用于未登录用户查询评论

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|pageNo|query|string|true|当前页|
|pageSize|query|string|true|每页数据条数|
|id|query|string|true|文章id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询评论成功",
  "result": [
    {
      "id": 1,
      "comment_content": "right",
      "user_id": 10,
      "article_id": 1,
      "createdAt": "2022-03-03T06:39:49.000Z",
      "updatedAt": "2022-03-03T06:39:49.000Z",
      "comment_good": 0,
      "comment_isGood": false,
      "comment_user": {
        "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "name": "admin"
      },
      "reply_list": [
        {
          "id": 1,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 10,
          "to_user_id": 2,
          "createdAt": "2022-03-03T06:40:09.000Z",
          "updatedAt": "2022-03-03T06:40:09.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 6,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 8,
          "to_user_id": 2,
          "createdAt": "2022-03-03T06:40:09.000Z",
          "updatedAt": "2022-03-03T06:40:09.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 7,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 7,
          "to_user_id": 2,
          "createdAt": "2022-03-03T06:40:10.000Z",
          "updatedAt": "2022-03-03T06:40:10.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 8,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 10,
          "to_user_id": 2,
          "createdAt": "2022-03-03T06:40:10.000Z",
          "updatedAt": "2022-03-03T06:40:10.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 9,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 10,
          "to_user_id": 2,
          "createdAt": "2022-03-03T06:40:10.000Z",
          "updatedAt": "2022-03-03T06:40:10.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 10,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 10,
          "to_user_id": 2,
          "createdAt": "2022-03-03T06:40:10.000Z",
          "updatedAt": "2022-03-03T06:40:10.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 2,
          "comment_id": 1,
          "comment_reply_id": 1,
          "comment_reply_content": "you are right!",
          "from_user_id": 2,
          "to_user_id": 10,
          "createdAt": "2022-03-03T06:40:09.000Z",
          "updatedAt": "2022-03-03T06:40:09.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 3,
          "comment_id": 1,
          "comment_reply_id": 1,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 10,
          "createdAt": "2022-03-03T06:40:09.000Z",
          "updatedAt": "2022-03-03T06:40:09.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 4,
          "comment_id": 1,
          "comment_reply_id": 3,
          "comment_reply_content": "you are right!",
          "from_user_id": 3,
          "to_user_id": 1,
          "createdAt": "2022-03-03T06:40:09.000Z",
          "updatedAt": "2022-03-03T06:40:09.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 5,
          "comment_id": 1,
          "comment_reply_id": 3,
          "comment_reply_content": "you are right!",
          "from_user_id": 10,
          "to_user_id": 1,
          "createdAt": "2022-03-03T06:40:09.000Z",
          "updatedAt": "2022-03-03T06:40:09.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        }
      ]
    },
    {
      "id": 5,
      "comment_content": "right",
      "user_id": 10,
      "article_id": 1,
      "createdAt": "2022-03-03T06:39:49.000Z",
      "updatedAt": "2022-03-03T06:39:49.000Z",
      "comment_good": 0,
      "comment_isGood": false,
      "comment_user": {
        "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "name": "admin"
      },
      "reply_list": []
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|[object]|true|none|none|
|»» id|integer|true|none|none|
|»» comment_content|string|true|none|none|
|»» user_id|integer|true|none|none|
|»» article_id|integer|true|none|none|
|»» createdAt|string|true|none|none|
|»» updatedAt|string|true|none|none|
|»» comment_good|integer|true|none|none|
|»» comment_isGood|boolean|true|none|none|
|»» comment_user|object|true|none|none|
|»»» avatar|string|true|none|none|
|»»» name|string|true|none|none|
|»» reply_list|[object]|true|none|none|
|»»» id|integer|true|none|none|
|»»» comment_id|integer|true|none|none|
|»»» comment_reply_id|null|true|none|none|
|»»» comment_reply_content|string|true|none|none|
|»»» from_user_id|integer|true|none|none|
|»»» to_user_id|integer|true|none|none|
|»»» createdAt|string|true|none|none|
|»»» updatedAt|string|true|none|none|
|»»» from_user|object|true|none|none|
|»»»» avatar|string|true|none|none|
|»»»» name|string|true|none|none|
|»»» to_user|object|true|none|none|
|»»»» avatar|string|true|none|none|
|»»»» name|string|true|none|none|
|»»» reply_good|integer|true|none|none|
|»»» reply_isGood|boolean|true|none|none|

## POST 新增评论的接口

POST /comment/createComment

> Body 请求参数

```json
{
  "comment_content": "哈哈哈2",
  "article_id": 1
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» comment_content|body|string|true|none|
|» article_id|body|integer|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "评论成功",
  "result": ""
}
```

```json
{
  "code": "13002",
  "message": "评论内容和评论文章不可以为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

## GET 根据文章id获取评论

GET /comment/queryCommentByArticleId

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|pageNo|query|string|true|none|
|pageSize|query|string|true|none|
|id|query|string|true|文章id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询评论成功",
  "result": [
    {
      "id": 1,
      "comment_content": "right",
      "user_id": 1,
      "article_id": 1,
      "createdAt": "2022-02-25T10:04:57.000Z",
      "updatedAt": "2022-02-25T10:04:57.000Z",
      "comment_good": 0,
      "comment_isGood": false,
      "comment_user": {
        "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "name": "admin"
      },
      "reply_list": [
        {
          "id": 1,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:16.000Z",
          "updatedAt": "2022-02-27T14:17:16.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 2,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:16.000Z",
          "updatedAt": "2022-02-27T14:17:16.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 3,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:16.000Z",
          "updatedAt": "2022-02-27T14:17:16.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 4,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:16.000Z",
          "updatedAt": "2022-02-27T14:17:16.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 5,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:16.000Z",
          "updatedAt": "2022-02-27T14:17:16.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 6,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:16.000Z",
          "updatedAt": "2022-02-27T14:17:16.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 7,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:17.000Z",
          "updatedAt": "2022-02-27T14:17:17.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 8,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:17.000Z",
          "updatedAt": "2022-02-27T14:17:17.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 9,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:17.000Z",
          "updatedAt": "2022-02-27T14:17:17.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 10,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:17.000Z",
          "updatedAt": "2022-02-27T14:17:17.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 11,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:23.000Z",
          "updatedAt": "2022-02-27T14:17:23.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 1,
          "reply_isGood": true
        },
        {
          "id": 12,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:23.000Z",
          "updatedAt": "2022-02-27T14:17:23.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 13,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:23.000Z",
          "updatedAt": "2022-02-27T14:17:23.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 1,
          "reply_isGood": true
        },
        {
          "id": 14,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:23.000Z",
          "updatedAt": "2022-02-27T14:17:23.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 15,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:23.000Z",
          "updatedAt": "2022-02-27T14:17:23.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 16,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:24.000Z",
          "updatedAt": "2022-02-27T14:17:24.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 17,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:24.000Z",
          "updatedAt": "2022-02-27T14:17:24.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 18,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:24.000Z",
          "updatedAt": "2022-02-27T14:17:24.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 19,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:24.000Z",
          "updatedAt": "2022-02-27T14:17:24.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 20,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-27T14:17:24.000Z",
          "updatedAt": "2022-02-27T14:17:24.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 21,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-02-28T09:31:32.000Z",
          "updatedAt": "2022-02-28T09:31:32.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        },
        {
          "id": 22,
          "comment_id": 1,
          "comment_reply_id": null,
          "comment_reply_content": "you are right!",
          "from_user_id": 1,
          "to_user_id": 2,
          "createdAt": "2022-03-01T03:26:06.000Z",
          "updatedAt": "2022-03-01T03:26:06.000Z",
          "from_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "to_user": {
            "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
            "name": "admin"
          },
          "reply_good": 0,
          "reply_isGood": false
        }
      ]
    },
    {
      "id": 5,
      "comment_content": "right",
      "user_id": 1,
      "article_id": 1,
      "createdAt": "2022-02-25T10:04:57.000Z",
      "updatedAt": "2022-02-25T10:04:57.000Z",
      "comment_good": 0,
      "comment_isGood": false,
      "comment_user": {
        "avatar": "https://www.pickpik.com/bled-slovenia-lake-mountains-mountain-the-fog-97",
        "name": "admin"
      },
      "reply_list": []
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|[object]|true|none|none|
|»» id|integer|true|none|none|
|»» comment_content|string|true|none|none|
|»» user_id|integer|true|none|none|
|»» article_id|integer|true|none|none|
|»» createdAt|string|true|none|none|
|»» updatedAt|string|true|none|none|
|»» comment_good|integer|true|none|none|
|»» comment_isGood|boolean|true|none|none|
|»» comment_user|object|true|none|none|
|»»» avatar|string|true|none|none|
|»»» name|string|true|none|none|
|»» reply_list|[object]|true|none|none|
|»»» id|integer|true|none|none|
|»»» comment_id|integer|true|none|none|
|»»» comment_reply_id|null|true|none|none|
|»»» comment_reply_content|string|true|none|none|
|»»» from_user_id|integer|true|none|none|
|»»» to_user_id|integer|true|none|none|
|»»» createdAt|string|true|none|none|
|»»» updatedAt|string|true|none|none|
|»»» from_user|object|true|none|none|
|»»»» avatar|string|true|none|none|
|»»»» name|string|true|none|none|
|»»» to_user|object|true|none|none|
|»»»» avatar|string|true|none|none|
|»»»» name|string|true|none|none|
|»»» reply_good|integer|true|none|none|
|»»» reply_isGood|boolean|true|none|none|

## GET 查询评论数量的接口

GET /comment/queryCommentCountByArticleId

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "文章评论数量查询成功",
  "result": {
    "commentCount": 1
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

## DELETE 删除评论

DELETE /comment/deleteComment

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|true|评论的id、该接口用户本人和管理员都可以用|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "删除评论成功",
  "result": ""
}
```

```json
{
  "code": "13003",
  "message": "评论id不可以为空",
  "result": ""
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|false|none|none|

# 评论接口/管理员接口

## DELETE 批量删除评论

DELETE /comment/delBatchCommentByIds

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|ids|query|string|true|id数组|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

# 评论回复接口

## POST 回复评论

POST /commentReply/insertCommentReply

> Body 请求参数

```json
{
  "comment_id": 1,
  "comment_reply_id": 1,
  "comment_reply_content": "you are right!",
  "to_user_id": 2
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» comment_id|body|integer|true|none|
|» comment_reply_id|body|integer|false|none|
|» comment_reply_content|body|string|true|none|
|» to_user_id|body|integer|true|none|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## DELETE 删除评论回复

DELETE /commentReply/deleteCommentReply

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|id|query|string|true|被删除的回复id|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

# 收藏接口

## DELETE 取消收藏

DELETE /collections/cancel

前台用户取消自己的点赞，会验证该行为是不是用户自己的请求！ 影响对应文章的收藏数

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|article_id|query|string|true|文章ID|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "取消收藏成功！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## GET 获取文章收藏数

GET /collections/count

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|article_id|query|string|true|文章ID|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取收藏数成功！",
  "result": {
    "article_id": "2",
    "cnt": 1
  }
}
```

> 文章不存在

```json
{
  "code": 11004,
  "message": "该文章不存在！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|文章不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» article_id|integer|true|none|none|
|»» cnt|integer|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## GET 获取文章收藏列表

GET /collections/getlist

返回文章列表

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取收藏数成功！",
  "result": [
    {
      "id": 1,
      "user_id": 1,
      "article_id": 1,
      "createdAt": "2022-03-02T04:30:47.000Z",
      "updatedAt": "2022-03-02T04:30:47.000Z",
      "userInfo": {
        "avator": "/uploads/upload_69e540ce9e6369c272dbe5a20d993a69.jpg",
        "user_name": "admin"
      }
    },
    {
      "id": 3,
      "user_id": 1,
      "article_id": 11,
      "createdAt": "2022-03-02T04:32:21.000Z",
      "updatedAt": "2022-03-02T04:32:21.000Z",
      "userInfo": {
        "avator": "/uploads/upload_69e540ce9e6369c272dbe5a20d993a69.jpg",
        "user_name": "admin"
      },
      "articleInfo": {
        "id": 11,
        "user_id": 2,
        "title": "角线构图认",
        "summary": "加满直非路同边家候眼后每位布响置。",
        "content": "向飞听山造亲争产阶术四得商相。根增解再必更相快术空质空查。非等然低龙期研新老确本步组。响石准果难示根能发派书质铁。",
        "partition_id": 1,
        "likes": 0,
        "collections": 0,
        "visits": 0,
        "cover_url": "",
        "createdAt": "2022-02-24T06:50:23.000Z",
        "updatedAt": "2022-02-24T06:50:23.000Z"
      }
    },
    {
      "id": 4,
      "user_id": 1,
      "article_id": 3,
      "createdAt": "2022-03-02T04:32:28.000Z",
      "updatedAt": "2022-03-02T04:32:28.000Z",
      "userInfo": {
        "avator": "/uploads/upload_69e540ce9e6369c272dbe5a20d993a69.jpg",
        "user_name": "admin"
      },
      "articleInfo": {
        "id": 3,
        "user_id": 1,
        "title": "Snvw Njdn Qousdg Mpbz",
        "summary": "8ai4",
        "content": "ssssssssssssss",
        "partition_id": 2,
        "likes": 1,
        "collections": 0,
        "visits": 13,
        "cover_url": "http://dnjej.cq/upyfnrkcv",
        "createdAt": "2022-02-22T18:01:50.000Z",
        "updatedAt": "2022-03-02T09:04:24.000Z"
      }
    },
    {
      "id": 5,
      "user_id": 1,
      "article_id": 2,
      "createdAt": "2022-03-02T08:55:38.000Z",
      "updatedAt": "2022-03-02T08:55:38.000Z",
      "userInfo": {
        "avator": "/uploads/upload_69e540ce9e6369c272dbe5a20d993a69.jpg",
        "user_name": "admin"
      },
      "articleInfo": {
        "id": 2,
        "user_id": 1,
        "title": "做料引",
        "summary": "性始水代教术现斯比交前矿。",
        "content": "向外路派装济历二二向由部体却具由思更。须石线增市由克义石离很会把以派问好者。八因济片影过图力节水合别。气任标则况所你十使则其受西间。京表从极音会将消战商件民验所。",
        "partition_id": 1,
        "likes": 1,
        "collections": 0,
        "visits": 0,
        "cover_url": "",
        "createdAt": "2022-02-22T18:01:50.000Z",
        "updatedAt": "2022-02-25T08:14:48.000Z"
      }
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|[object]|true|none|none|
|»» id|integer|true|none|none|
|»» user_id|integer|true|none|none|
|»» article_id|integer|true|none|none|
|»» createdAt|string|true|none|none|
|»» updatedAt|string|true|none|none|
|»» userInfo|object|true|none|none|
|»»» avator|string|true|none|none|
|»»» user_name|string|true|none|none|
|»» articleInfo|object|true|none|none|
|»»» id|integer|true|none|none|
|»»» user_id|integer|true|none|none|
|»»» title|string|true|none|none|
|»»» summary|string|true|none|none|
|»»» content|string|true|none|none|
|»»» partition_id|integer|true|none|none|
|»»» likes|integer|true|none|none|
|»»» collections|integer|true|none|none|
|»»» visits|integer|true|none|none|
|»»» cover_url|string|true|none|none|
|»»» createdAt|string|true|none|none|
|»»» updatedAt|string|true|none|none|

## POST 新增收藏

POST /collections/add

会避免重复 增加对应文章的收藏数

> Body 请求参数

```json
{
  "article_id": 2
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» article_id|body|integer|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "收藏成功！",
  "result": {
    "collection_id": 4,
    "user_id": 1,
    "article_id": 3
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|409|[Conflict](https://tools.ietf.org/html/rfc7231#section-6.5.8)|Conflict|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» collection_id|integer|true|none|none|
|»» user_id|integer|true|none|none|
|»» article_id|integer|true|none|none|

状态码 **409**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

# 收藏接口/管理员接口

## DELETE 后台-根据收藏id删除收藏记录

DELETE /collections/deleteByID

管理员直接删除某条收藏记录 影响对应文章的收藏数

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|collection_id|query|string|false|收藏id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "删除收藏记录成功！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

# 点赞接口

## POST 新增点赞

POST /likes/add

会避免重复

> Body 请求参数

```json
{
  "target_id": 8,
  "type": "comment"
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» type|body|any|false|不传默认为文章|
|»» *anonymous*|body|string¦null|false|点赞对象为文章|
|»» *anonymous*|body|string|false|点赞对象为评论|
|»» *anonymous*|body|string|false|点赞对象为评论回复|
|» target_id|body|any|true|none|
|»» *anonymous*|body|integer|false|点赞类型为文章|
|»» *anonymous*|body|integer|false|点赞类型为评论|
|»» *anonymous*|body|integer|false|点赞类型为评论回复|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "点赞成功！",
  "result": {
    "like_id": 3,
    "user_id": 1,
    "type": "comment",
    "target_id": 5
  }
}
```

> Conflict

```json
{
  "code": 14003,
  "message": "点赞重复，该用户已点赞过！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|409|[Conflict](https://tools.ietf.org/html/rfc7231#section-6.5.8)|Conflict|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» like_id|integer|true|none|none|
|»» user_id|integer|true|none|none|
|»» type|string|true|none|none|
|»» target_id|integer|true|none|none|

状态码 **409**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## GET 获取总点赞数

GET /likes/count

若传递user_id参数，判断type，为article则获取用户user_id发布的文章所获总点赞数， 为comment则获取用户user_id所发表评论所获总点赞数
若不传递user_id参数，则必须传递target_id，判断type，为article则获取文章target_id所获总点赞数， 为comment则获取评论target_id所获总点赞数

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|type|query|string|false|点赞类型 文章article / 评论comment / 评论回复comment_reply 不填默认为文章|
|target_id|query|string|false|文章/评论id|
|user_id|query|string|false|传了则查询该用户的总点赞数|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 根据用户id获取被点赞总数

GET /likes/countUserAllLikes

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|user_id|query|string|true|用户的id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询用户被点赞数量成功",
  "result": {
    "likesCount": 1
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» likesCount|integer|true|none|none|

## DELETE 取消点赞

DELETE /likes/delete

前台用户取消自己的点赞，会验证该行为是不是用户自己的请求！

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|type|query|string|false|点赞类型 文章article / 评论comment/评论回复comment_reply  不填默认为文章|
|target_id|query|string|true|文章/评论id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "取消点赞记录成功！"
}
```

> 记录不存在

```json
{
  "code": 14005,
  "message": "该点赞记录不存在！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

# 点赞接口/管理员接口

## DELETE 后台-根据点赞id删除点赞记录

DELETE /likes/deleteByID

删除某条点赞记录 影响对应文章的点赞数

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|like_id|query|string|false|点赞记录id|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "取消点赞记录成功！"
}
```

> 记录不存在

```json
{
  "code": 14005,
  "message": "该点赞记录不存在！"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|记录不存在|Inline|

### 返回数据结构

状态码 **404**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

# 搜索及统计相关接口

## GET 获取社区热帖排行榜

GET /search/post_rank

热帖排行根据点赞数、浏览数、收藏数三者结合排名， 优先级第一要素为点赞数，第二要素为浏览数， 第三要素为收藏数
返回10篇文章，只获取已发布的~

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 搜索联想词请求（外部接口）

GET /sugrec

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|prod|query|string|false|none|
|wd|query|string|false|none|

> 返回示例

> 成功

```json
{
  "q": "乌克兰",
  "p": false,
  "g": [
    {
      "type": "sug",
      "sa": "s_1",
      "q": "乌克兰释放参过军的囚犯参战"
    },
    {
      "type": "sug",
      "sa": "s_2",
      "q": "乌克兰最新局势"
    },
    {
      "type": "sug",
      "sa": "s_3",
      "q": "乌克兰局势最新进展"
    },
    {
      "type": "sug",
      "sa": "s_4",
      "q": "乌克兰谈判"
    },
    {
      "type": "sug",
      "sa": "s_5",
      "q": "乌克兰局势"
    },
    {
      "type": "sug",
      "sa": "s_6",
      "q": "乌克兰首都基辅巷战已打响"
    },
    {
      "type": "sug",
      "sa": "s_7",
      "q": "乌克兰与俄罗斯冲突原因是什么"
    },
    {
      "type": "sug",
      "sa": "s_8",
      "q": "乌克兰面积和人口"
    },
    {
      "type": "sug",
      "sa": "s_9",
      "q": "乌克兰地图"
    },
    {
      "type": "sug",
      "sa": "s_10",
      "q": "乌克兰总统"
    }
  ],
  "slid": "277405144775871",
  "queryid": "0x15fc4c6b1cfcbf"
}
```

```json
{
  "q": "欸嘿?",
  "p": true,
  "g": [
    {
      "type": "sug",
      "sa": "s_1",
      "q": "诶嘿得囊打哟"
    },
    {
      "type": "sug",
      "sa": "s_2",
      "q": "诶嘿是什么意思啊"
    },
    {
      "type": "sug",
      "sa": "s_3",
      "q": "诶嘿原神"
    },
    {
      "type": "sug",
      "sa": "s_4",
      "q": "诶嘿是什么意思啊用日语怎么说"
    },
    {
      "type": "sug",
      "sa": "s_5",
      "q": "诶嘿是什么意思啦!喂!"
    }
  ],
  "slid": "131920807021609",
  "queryid": "0x9877fb34d74c29"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» q|string|true|none|none|
|» p|boolean|true|none|none|
|» g|[object]|true|none|none|
|»» type|string|true|none|none|
|»» sa|string|true|none|none|
|»» q|string|true|none|none|
|» slid|string|true|none|none|
|» queryid|string|true|none|none|

## GET 获取社区前十用户排行榜

GET /search/user_rank

根据用户的粉丝来进行排名
 该接口只需要返回用户信息以及粉丝数量

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

## GET 获取各状态文章数

GET /search/status_count

获取已发布文章数、违规被屏蔽文章数、回收站文章数、待审核文章数

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取各状态文章数成功",
  "result": {
    "post_cnt": 343,
    "shield_cnt": 4,
    "deleted_cnt": 7,
    "pending_cnt": 2
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» post_cnt|integer|true|none|已发布文章数|
|»» shield_cnt|integer|true|none|违规被屏蔽文章数|
|»» deleted_cnt|integer|true|none|回收站文章数|
|»» pending_cnt|integer|true|none|待审核文章数|

## GET 文章模糊搜索（可分页）

GET /search/byword

- 可根据关键字进行文章标题/内容/摘要匹配，返回所有包括该关键字的文章
- 可分页获取搜索结果，支持自定义分页大小、每页数量

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|wd|query|string|true| 查询关键字 (word)  不填或为空格则默认搜索关键词为一个空格|
|current|query|string|false|当前页数 默认第1页|
|size|query|string|false|每页数目 默认为10篇文章|
|status|query|string|false|文章状态 不传默认只能查到已发布文章 0已发布  1为被屏蔽、2为回收站|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "查询成功",
  "result": {
    "res": {
      "page_nums": 1,
      "count": 10,
      "rows": [
        {
          "id": 2,
          "user_id": 1,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 10,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:07.000Z",
          "updatedAt": "2022-03-02T12:20:35.000Z",
          "deletedAt": null,
          "user_name": "admin",
          "comments": 1
        },
        {
          "id": 7,
          "user_id": 2,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 10,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:08.000Z",
          "updatedAt": "2022-03-02T12:23:29.000Z",
          "deletedAt": null,
          "user_name": "cos",
          "comments": 0
        },
        {
          "id": 12,
          "user_id": 3,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:08.000Z",
          "updatedAt": "2022-03-02T12:05:08.000Z",
          "deletedAt": null,
          "user_name": "Timothy",
          "comments": 0
        },
        {
          "id": 17,
          "user_id": 4,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:08.000Z",
          "updatedAt": "2022-03-02T12:05:08.000Z",
          "deletedAt": null,
          "user_name": "Donald",
          "comments": 0
        },
        {
          "id": 22,
          "user_id": 5,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:09.000Z",
          "updatedAt": "2022-03-02T12:05:09.000Z",
          "deletedAt": null,
          "user_name": "Charles",
          "comments": 0
        },
        {
          "id": 27,
          "user_id": 6,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:09.000Z",
          "updatedAt": "2022-03-02T12:05:09.000Z",
          "deletedAt": null,
          "user_name": "Jeffrey",
          "comments": 0
        },
        {
          "id": 32,
          "user_id": 7,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:10.000Z",
          "updatedAt": "2022-03-02T12:05:10.000Z",
          "deletedAt": null,
          "user_name": "Matthew",
          "comments": 0
        },
        {
          "id": 37,
          "user_id": 8,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:10.000Z",
          "updatedAt": "2022-03-02T12:05:10.000Z",
          "deletedAt": null,
          "user_name": "Shirley",
          "comments": 0
        },
        {
          "id": 42,
          "user_id": 9,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:11.000Z",
          "updatedAt": "2022-03-02T12:05:11.000Z",
          "deletedAt": null,
          "user_name": "Ruth",
          "comments": 0
        },
        {
          "id": 47,
          "user_id": 10,
          "title": "【第二届青训营-寒假前端场】- 「Node.js 与前端开发实战」",
          "summary": "这节课从Node.js介绍起，实现了其编写Http Server的一个实战（并用Promise优化回调，还对SSR有了一定的了解），并在延伸话题里老师也给出了一些建议与拓展阅读，好欸~",
          "content": "早期的jQuery等库都是直接在页面中引入，后来模块化逐渐成熟，Node.js赋予了开发者在浏览器外运行代码的能力，前端逐渐模块化。一个常见场景：读取文件时。当Node.js执行I/O操作时，会在响应返回后恢复操作，而不是阻塞线程并占用额外内存等待。（内存占用更少）",
          "partition_id": 1,
          "likes": 0,
          "collections": 0,
          "visits": 0,
          "status": 0,
          "cover_url": "",
          "createdAt": "2022-03-02T12:05:11.000Z",
          "updatedAt": "2022-03-02T12:05:11.000Z",
          "deletedAt": null,
          "user_name": "EVO",
          "comments": 0
        }
      ]
    }
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» res|object|true|none|none|
|»»» page_nums|integer|true|none|none|
|»»» count|integer|true|none|none|
|»»» rows|[object]|true|none|none|
|»»»» id|integer|true|none|none|
|»»»» user_id|integer|true|none|none|
|»»»» title|string|true|none|none|
|»»»» summary|string|true|none|none|
|»»»» content|string|true|none|none|
|»»»» partition_id|integer|true|none|none|
|»»»» likes|integer|true|none|none|
|»»»» collections|integer|true|none|none|
|»»»» visits|integer|true|none|none|
|»»»» status|integer|true|none|none|
|»»»» cover_url|string|true|none|none|
|»»»» createdAt|string|true|none|none|
|»»»» updatedAt|string|true|none|none|
|»»»» deletedAt|null|true|none|none|
|»»»» user_name|string|true|none|none|
|»»»» comments|integer|true|none|none|

## GET 获取用户所发布文章列表（分页）

GET /search/byuser

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|user_id|query|string|true|该用户ID|
|page|query|string|false|不填则默认为1|
|type|query|string|false|article comment like 不填默认为article|

> 返回示例

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|查询点赞文章列表|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» current_page|integer|true|none|none|
|»» page_nums|integer|true|none|none|
|»» article_total|integer|true|none|none|
|»» article_list|[object]|true|none|none|
|»»» article_id|integer|true|none|none|
|»»» releaseAt|string|true|none|none|
|»»» author_id|integer|true|none|none|
|»»» author_name|string|true|none|none|
|»»» title|string|true|none|none|
|»»» summary|string¦null|true|none|none|
|»»» cover_url|string|true|none|none|
|»»» likes|integer|true|none|none|
|»»» comments|integer|true|none|none|
|»»» visits|integer|true|none|none|

# ws接口

## GET 获取在线用户及数量

GET /ws/getAllOnlineUser

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "获取在线用户成功",
  "result": {
    "res": {
      "onlineUserIds": [
        0
      ],
      "count": 1
    }
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|
|» result|object|true|none|none|
|»» res|object|true|none|none|
|»»» onlineUserIds|[integer]|true|none|none|
|»»» count|integer|true|none|none|

# ws接口/管理员接口

## POST 系统名义私发消息

POST /ws/sendMessageToUid

> Body 请求参数

```json
{
  "toUId": 0,
  "data": {}
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» toUId|body|integer|true|接受的用户id|
|» data|body|object|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "发送消息成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

## POST 系统名义群发消息给在线用户

POST /ws/sendMessageToAllOnline

由于websocket本身的限制，只能发送消息给在线用户

> Body 请求参数

```json
{
  "data": {}
}
```

### 请求参数

|名称|位置|类型|必选|说明|
|---|---|---|---|---|
|body|body|object|false|none|
|» data|body|object|true|none|

> 返回示例

> 成功

```json
{
  "code": 0,
  "message": "发送消息成功"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|成功|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|说明|
|---|---|---|---|---|
|» code|integer|true|none|none|
|» message|string|true|none|none|

